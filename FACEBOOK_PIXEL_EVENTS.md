# Facebook Pixel - Налаштовані події

## ID Пікселя: 2252045738624082

## Встановлені події:

### 1. **PageView** (Перегляд сторінки)
- **Де:** На всіх сторінках сайту
- **Коли:** Автоматично при завантаженні кожної сторінки
- **Файл:** `src/app/layout.tsx`

### 2. **ViewContent** (Перегляд товару)
- **Де:** На сторінці товару `/product/[id]`
- **Коли:** При відкритті сторінки товару
- **Дані:** назва товару, ID, ціна, валюта (UAH)
- **Файли:** 
  - `src/components/FacebookPixelViewContent.tsx`
  - `src/app/product/[id]/page.tsx`

### 3. **AddToCart** (Додавання в кошик)
- **Де:** На картці товару (кнопка "Купити")
- **Коли:** При натисканні кнопки "Купити" або "Предзаказ"
- **Дані:** назва товару, ID, ціна (з урахуванням знижки), валюта (UAH)
- **Файл:** `src/components/ProductCard.tsx`

### 4. **InitiateCheckout** (Початок оформлення)
- **Де:** На сторінці оформлення замовлення `/checkout`
- **Коли:** При відкритті сторінки checkout
- **Дані:** ID товарів, загальна сума, кількість товарів, валюта (UAH)
- **Файл:** `src/app/checkout/page.tsx`

### 5. **Purchase** (Покупка)
- **Де:** На сторінці успішного замовлення `/checkout/success`
- **Коли:** Після успішного оформлення замовлення
- **Дані:** ID товарів, загальна сума, кількість товарів, валюта (UAH)
- **Файл:** `src/app/checkout/success/page.tsx`

## Як перевірити роботу пікселя:

### Метод 1: Meta Pixel Helper (Рекомендовано)
1. Встановіть розширення [Meta Pixel Helper](https://chrome.google.com/webstore/detail/meta-pixel-helper/fdgfkebogiimcoedlicjlajpkdmockpc) для Chrome
2. Відкрийте ваш сайт https://calmcraft.shop
3. Клікніть на іконку розширення - воно покаже всі спрацьовані події

### Метод 2: Test Events в Facebook Events Manager
1. Відкрийте [Facebook Events Manager](https://business.facebook.com/events_manager2)
2. Виберіть ваш піксель (2252045738624082)
3. Перейдіть в розділ "Test Events"
4. Відкрийте ваш сайт в новій вкладці
5. Події будуть відображатися в реальному часі

### Метод 3: Консоль браузера
1. Відкрийте консоль браузера (F12)
2. Введіть команду: `fbq`
3. Якщо піксель працює, ви побачите функцію

## Важливо:

- Події відправляються тільки якщо піксель завантажений (`fbq` функція доступна)
- Всі ціни вказуються в гривнях (UAH)
- При знижці відправляється фінальна ціна (з урахуванням знижки)
- Для події Purchase потрібно, щоб замовлення було збережено в базі даних

## Налаштування в Facebook Ads Manager:

1. Перейдіть в Events Manager
2. Виберіть ваш піксель
3. Налаштуйте конверсії для реклами:
   - **AddToCart** - для ретаргетингу
   - **InitiateCheckout** - для оптимізації кампаній
   - **Purchase** - основна конверсія для продажів

## Troubleshooting:

Якщо події не відображаються:
1. Перевірте, що сайт доступний по HTTPS
2. Очистіть кеш браузера
3. Перевірте консоль на помилки JavaScript
4. Переконайтеся, що ID пікселя правильний (2252045738624082)
5. Зачекайте 15-30 хвилин після встановлення - Facebook може кешувати дані
