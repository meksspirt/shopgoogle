# üë§ –ì–∞–π–¥ –ø–æ –ø—Ä–æ—Ñ—ñ–ª—é –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

## –û–≥–ª—è–¥

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ñ—ñ–ª—ñ–≤ –¥–æ–∑–≤–æ–ª—è—î –ø–æ–∫—É–ø—Ü—è–º:
- ‚úÖ –†–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è —Ç–∞ –≤—Ö–æ–¥–∏—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é —Å–≤–æ—ó—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å
- ‚úÖ –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –®–≤–∏–¥–∫–æ –æ—Ñ–æ—Ä–º–ª—è—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ profile/
‚îÇ       ‚îú‚îÄ‚îÄ page.tsx              # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–æ—Ñ—ñ–ª—é
‚îÇ       ‚îî‚îÄ‚îÄ login/
‚îÇ           ‚îî‚îÄ‚îÄ page.tsx          # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—Ö–æ–¥—É/—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ Navbar.tsx                # –û–Ω–æ–≤–ª–µ–Ω–æ: –¥–æ–¥–∞–Ω–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ—Ñ—ñ–ª—å
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ supabaseAuth.ts           # –§—É–Ω–∫—Ü—ñ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

supabase/
‚îî‚îÄ‚îÄ add_user_id_to_orders.sql     # SQL –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è user_id —Ç–∞ RLS –ø–æ–ª—ñ—Ç–∏–∫
```

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –≤—Ö—ñ–¥

**URL:** `/profile/login`

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å:
- –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –∑ email —Ç–∞ –ø–∞—Ä–æ–ª–µ–º (–º—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤)
- –£–≤—ñ–π—Ç–∏ –≤ —ñ—Å–Ω—É—é—á–∏–π –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ñ—ñ–ª—å –ø—ñ—Å–ª—è –≤—Ö–æ–¥—É

### 2. –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–æ—Ñ—ñ–ª—é

**URL:** `/profile`

**–í–∫–ª–∞–¥–∫–∞ "–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è":**
- Email –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –î–µ—Ç–∞–ª—ñ –∫–æ–∂–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:
  - –ù–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
  - –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
  - –°—Ç–∞—Ç—É—Å (–û—á—ñ–∫—É—î—Ç—å—Å—è, –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ, –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, –°–∫–∞—Å–æ–≤–∞–Ω–æ)
  - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤ –∑ —Ñ–æ—Ç–æ
  - –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
  - –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ
  - –¢–¢–ù (—è–∫—â–æ —î)
  - –ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞

**–í–∫–ª–∞–¥–∫–∞ "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è":**
- –ü–µ—Ä–µ–≥–ª—è–¥ email (–Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏)
- –ü–µ—Ä–µ–≥–ª—è–¥ ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **–ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è** (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ email/password)
  - –í–≤–µ–¥–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
  - –í–≤–µ–¥–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
  - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
- –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ Google: –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª–µ–º —á–µ—Ä–µ–∑ Google

### 3. –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è

**URL:** `/profile/login` ‚Üí "–ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?"

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å:
- –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "–ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?" –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –≤—Ö–æ–¥—É
- –í–≤–µ—Å—Ç–∏ —Å–≤—ñ–π email
- –û—Ç—Ä–∏–º–∞—Ç–∏ –ª–∏—Å—Ç –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è
- –ü–µ—Ä–µ–π—Ç–∏ –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ `/profile/reset-password`
- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å

### 3. –ù–∞–≤—ñ–≥–∞—Ü—ñ—è

–í –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–æ–º—É –º–µ–Ω—é:
- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è "–£–≤—ñ–π—Ç–∏"
- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è "üë§ –ü—Ä–æ—Ñ—ñ–ª—å"

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –ö—Ä–æ–∫ 1: –í–∏–∫–æ–Ω–∞—Ç–∏ SQL –º—ñ–≥—Ä–∞—Ü—ñ—é

–í–∏–∫–æ–Ω–∞–π—Ç–µ —Ñ–∞–π–ª `supabase/add_user_id_to_orders.sql` –≤ SQL Editor Supabase:

```sql
-- –î–æ–¥–∞—î –∫–æ–ª–æ–Ω–∫—É user_id –¥–æ —Ç–∞–±–ª–∏—Ü—ñ orders
-- –°—Ç–≤–æ—Ä—é—î —ñ–Ω–¥–µ–∫—Å –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É
-- –ù–∞–ª–∞—à—Ç–æ–≤—É—î RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–ø–µ–∫–∏
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è SQL, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ç–∞–∫—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏:

**–î–ª—è —Ç–∞–±–ª–∏—Ü—ñ `orders`:**
1. ‚úÖ Users can view their own orders - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
2. ‚úÖ Anyone can create orders - –±—É–¥—å-—Ö—Ç–æ –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–≥–æ—Å—Ç—å–æ–≤—ñ –ø–æ–∫—É–ø–∫–∏)
3. ‚úÖ Admins can view all orders - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –±–∞—á–∞—Ç—å –≤—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
4. ‚úÖ Admins can update all orders - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –º–æ–∂—É—Ç—å –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
5. ‚úÖ Admins can delete orders - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –º–æ–∂—É—Ç—å –≤–∏–¥–∞–ª—è—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

**–î–ª—è —Ç–∞–±–ª–∏—Ü—ñ `order_items`:**
1. ‚úÖ Users can view their order items - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å —Ç–æ–≤–∞—Ä–∏ —Å–≤–æ—ó—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å
2. ‚úÖ Anyone can create order items - –±—É–¥—å-—Ö—Ç–æ –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏ (–≥–æ—Å—Ç—å–æ–≤—ñ –ø–æ–∫—É–ø–∫–∏)
3. ‚úÖ Admins can view all order items - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –±–∞—á–∞—Ç—å –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏
4. ‚úÖ Admins can delete order items - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –º–æ–∂—É—Ç—å –≤–∏–¥–∞–ª—è—Ç–∏ —Ç–æ–≤–∞—Ä–∏

## –ë–µ–∑–ø–µ–∫–∞ (RLS)

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

1. **–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:**
   - –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–≤'—è–∑—É—é—Ç—å—Å—è –¥–æ `user_id`
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ RLS –ø–æ–ª—ñ—Ç–∏–∫—É
   - –ó–∞–ø–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ñ—ñ–ª—å—Ç—Ä—É—é—Ç—å—Å—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

2. **–î–ª—è –≥–æ—Å—Ç—å–æ–≤–∏—Ö –ø–æ–∫—É–ø–æ–∫:**
   - `user_id` –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è `NULL`
   - –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –≤—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏ —á–µ—Ä–µ–∑ email
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–æ–±–∞—á–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —è–∫—â–æ email —Å–ø—ñ–≤–ø–∞–¥–∞—î

3. **–î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤:**
   - –ë–∞—á–∞—Ç—å –≤—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ `user_id`
   - –ú–æ–∂—É—Ç—å –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –±—É–¥—å-—è–∫—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### –ü—Ä–∏–∫–ª–∞–¥ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏

```sql
-- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
CREATE POLICY "Users can view their own orders"
ON orders FOR SELECT
USING (
    auth.uid() = user_id 
    OR 
    customer_email = auth.jwt()->>'email'
);
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. –¢–µ—Å—Ç —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/profile/login`
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ù–µ–º–∞—î –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É? –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è"
3. –í–≤–µ–¥—ñ—Ç—å email —Ç–∞ –ø–∞—Ä–æ–ª—å (–º—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤)
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è"
5. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—à—Ç—É –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (—è–∫—â–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ)

### 2. –¢–µ—Å—Ç –≤—Ö–æ–¥—É

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/profile/login`
2. –í–≤–µ–¥—ñ—Ç—å email —Ç–∞ –ø–∞—Ä–æ–ª—å
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–£–≤—ñ–π—Ç–∏"
4. –ü–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–±—É—Ç–∏—Å—è —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/profile`

### 3. –¢–µ—Å—Ç –ø–µ—Ä–µ–≥–ª—è–¥—É –∑–∞–º–æ–≤–ª–µ–Ω—å

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `/profile`
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ checkout
4. –ü–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –Ω–∞ `/profile`
5. –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è –≤ —Å–ø–∏—Å–∫—É

### 4. –¢–µ—Å—Ç –≤–∏—Ö–æ–¥—É

1. –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –ø—Ä–æ—Ñ—ñ–ª—é –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–í–∏–π—Ç–∏"
2. –ü–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–±—É—Ç–∏—Å—è —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ –≥–æ–ª–æ–≤–Ω—É
3. –í –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –ø–æ–≤–∏–Ω–Ω–æ –∑'—è–≤–∏—Ç–∏—Å—è "–£–≤—ñ–π—Ç–∏" –∑–∞–º—ñ—Å—Ç—å "üë§ –ü—Ä–æ—Ñ—ñ–ª—å"

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–∏–º –∫–æ–¥–æ–º

### Checkout (–æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è)

–§–∞–π–ª `src/app/checkout/page.tsx` –æ–Ω–æ–≤–ª–µ–Ω–æ:

```typescript
// –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
const { data: { session } } = await supabase.auth.getSession();
const userId = session?.user?.id || null;

// –ó–±–µ—Ä—ñ–≥–∞—î–º–æ user_id –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
const { data: order, error: orderError } = await supabase
    .from('orders')
    .insert({
        // ... —ñ–Ω—à—ñ –ø–æ–ª—è
        user_id: userId  // ‚Üê –î–æ–¥–∞–Ω–æ
    })
```

### Navbar (–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è)

–§–∞–π–ª `src/components/Navbar.tsx` –æ–Ω–æ–≤–ª–µ–Ω–æ:

```typescript
// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Å—Ç–∞—Ç—É—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
const [isLoggedIn, setIsLoggedIn] = useState(false);

// –°–ª—É—Ö–∞—î–º–æ –∑–º—ñ–Ω–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
supabase.auth.onAuthStateChange((_event, session) => {
    setIsLoggedIn(!!session);
});

// –ü–æ–∫–∞–∑—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
<Link href={isLoggedIn ? "/profile" : "/profile/login"}>
    {isLoggedIn ? "üë§ –ü—Ä–æ—Ñ—ñ–ª—å" : "–£–≤—ñ–π—Ç–∏"}
</Link>
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase Auth

### –í –ø–∞–Ω–µ–ª—ñ Supabase:

1. **Authentication ‚Üí Providers**
   - ‚úÖ –£–≤—ñ–º–∫–Ω—ñ—Ç—å Email/Password
   - ‚öôÔ∏è –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è: –≤–∏–º–∫–Ω—ñ—Ç—å "Confirm email"
   - ‚öôÔ∏è –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É: —É–≤—ñ–º–∫–Ω—ñ—Ç—å "Confirm email"

2. **Authentication ‚Üí Email Templates** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —à–∞–±–ª–æ–Ω–∏ –ª–∏—Å—Ç—ñ–≤ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
   - –î–æ–¥–∞–π—Ç–µ –ª–æ–≥–æ—Ç–∏–ø —Ç–∞ –±—Ä–µ–Ω–¥–∏–Ω–≥

3. **Authentication ‚Üí URL Configuration**
   - Site URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com`
   - Redirect URLs: –¥–æ–¥–∞–π—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/profile`

## –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ:
- [ ] –î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- [ ] –î–æ–¥–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω—å
- [ ] –î–æ–¥–∞—Ç–∏ –ø–æ—à—É–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- [ ] –î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ:
- [ ] –î–æ–¥–∞—Ç–∏ –≤—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google/Facebook
- [ ] –î–æ–¥–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∞–¥—Ä–µ—Å–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –î–æ–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω—å (wishlist)
- [ ] –î–æ–¥–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤
- [ ] –î–æ–¥–∞—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏:

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –ø–æ–º–∏–ª–∫–∏ JavaScript
2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Supabase logs** –≤ Dashboard ‚Üí Logs
3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏** –≤ Table Editor ‚Üí RLS
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Auth –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** –≤ Authentication ‚Üí Settings

## –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Supabase Auth Documentation](https://supabase.com/docs/guides/auth)
- [Row Level Security Guide](https://supabase.com/docs/guides/auth/row-level-security)
- [Next.js Authentication](https://nextjs.org/docs/authentication)
